diff -ur redmine-0.9.3-mdomain/app/models/auth_source_ldap.rb /usr/share/redmine//app/models/auth_source_ldap.rb
--- redmine-0.9.3-mdomain/app/models/auth_source_ldap.rb	2010-03-09 16:10:27.000000000 +0100
+++ /usr/share/redmine//app/models/auth_source_ldap.rb	2010-03-09 15:58:14.025186618 +0100
@@ -28,6 +28,7 @@
   validates_length_of :name, :host, :account_password, :maximum => 60, :allow_nil => true
   validates_length_of :account, :base_dn, :maximum => 255, :allow_nil => true
   validates_length_of :attr_login, :attr_firstname, :attr_lastname, :attr_mail, :maximum => 30, :allow_nil => true
+  validates_length_of :maildomain, :maximum => 255, :allow_nil => true
   validates_numericality_of :port, :only_integer => true
   
   before_validation :strip_ldap_attributes
@@ -63,7 +64,7 @@
   private
   
   def strip_ldap_attributes
-    [:attr_login, :attr_firstname, :attr_lastname, :attr_mail].each do |attr|
+    [:attr_login, :attr_firstname, :attr_lastname, :attr_mail, :maildomain].each do |attr|
       write_attribute(attr, read_attribute(attr).strip) unless read_attribute(attr).nil?
     end
   end
@@ -77,12 +78,12 @@
     Net::LDAP.new options
   end
 
-  def get_user_attributes_from_ldap_entry(entry)
+  def get_user_attributes_from_ldap_entry(entry, login)
     {
      :dn => entry.dn,
      :firstname => AuthSourceLdap.get_attr(entry, self.attr_firstname),
      :lastname => AuthSourceLdap.get_attr(entry, self.attr_lastname),
-     :mail => AuthSourceLdap.get_attr(entry, self.attr_mail),
+     :mail => get_mail(entry, login),
      :auth_source_id => self.id
     }
   end
@@ -116,7 +117,7 @@
                      :attributes=> search_attributes) do |entry|
 
       if onthefly_register?
-        attrs = get_user_attributes_from_ldap_entry(entry)
+        attrs = get_user_attributes_from_ldap_entry(entry, login)
       else
         attrs = {:dn => entry.dn}
       end
@@ -132,4 +133,12 @@
       entry[attr_name].is_a?(Array) ? entry[attr_name].first : entry[attr_name]
     end
   end
+
+  def get_mail(entry, login)
+    addr = AuthSourceLdap.get_attr(entry, self.attr_mail)
+    if addr.blank? && !self.maildomain.blank?
+      addr = "#{login}@#{self.maildomain}"
+    end
+    addr
+  end
 end
diff -ur redmine-0.9.3-mdomain/app/views/auth_sources/_form.html.erb /usr/share/redmine//app/views/auth_sources/_form.html.erb
--- redmine-0.9.3-mdomain/app/views/auth_sources/_form.html.erb	2010-03-09 16:10:27.000000000 +0100
+++ /usr/share/redmine//app/views/auth_sources/_form.html.erb	2010-03-09 16:09:10.526247745 +0100
@@ -25,6 +25,9 @@
 
 <p><label for="auth_source_onthefly_register"><%=l(:field_onthefly)%></label>
 <%= check_box 'auth_source', 'onthefly_register' %></p>
+
+<p><label for="auth_source_maildomain"><%=l(:field_maildomain)%></label>
+<%= text_field 'auth_source', 'maildomain', :size => 60  %></p>
 </div>
 
 <fieldset class="box"><legend><%=l(:label_attribute_plural)%></legend>
diff -ur redmine-0.9.3-mdomain/db/migrate/001_setup.rb /usr/share/redmine//db/migrate/001_setup.rb
--- redmine-0.9.3-mdomain/db/migrate/001_setup.rb	2010-03-09 16:10:27.000000000 +0100
+++ /usr/share/redmine//db/migrate/001_setup.rb	2010-03-09 15:58:39.840124128 +0100
@@ -47,6 +47,7 @@
       t.column "attr_firstname", :string, :limit => 30
       t.column "attr_lastname", :string, :limit => 30
       t.column "attr_mail", :string, :limit => 30
+      t.column "maildomain", :string, :limit => 255
       t.column "onthefly_register", :boolean, :default => false, :null => false
     end
     
diff -ur redmine-1.0.4-mdomain/config/locales/bg.yml redmine-1.0.4/config/locales/bg.yml
--- redmine-1.0.4-mdomain/config/locales/bg.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/bg.yml	2010-12-02 14:15:06.415818373 +0100
@@ -923,3 +923,4 @@
   label_user_search: "Търсене на потребител:"
   field_visible: Видим
   setting_emails_header: Emails header
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/bs.yml redmine-1.0.4/config/locales/bs.yml
--- redmine-1.0.4-mdomain/config/locales/bs.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/bs.yml	2010-12-02 14:15:06.415818373 +0100
@@ -935,3 +935,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/ca.yml redmine-1.0.4/config/locales/ca.yml
--- redmine-1.0.4-mdomain/config/locales/ca.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/ca.yml	2010-12-02 14:15:06.415818373 +0100
@@ -923,3 +923,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/cs.yml redmine-1.0.4/config/locales/cs.yml
--- redmine-1.0.4-mdomain/config/locales/cs.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/cs.yml	2010-12-02 14:15:06.415818373 +0100
@@ -920,3 +920,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/da.yml redmine-1.0.4/config/locales/da.yml
--- redmine-1.0.4-mdomain/config/locales/da.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/da.yml	2010-12-02 14:15:06.415818373 +0100
@@ -937,3 +937,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/de.yml redmine-1.0.4/config/locales/de.yml
--- redmine-1.0.4-mdomain/config/locales/de.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/de.yml	2010-12-02 14:15:06.415818373 +0100
@@ -945,3 +945,4 @@
 
   field_start_date: Start date
   button_edit_associated_wikipage: "Edit associated Wiki page: {{page_title}}"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/el.yml redmine-1.0.4/config/locales/el.yml
--- redmine-1.0.4-mdomain/config/locales/el.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/el.yml	2010-12-02 14:15:06.415818373 +0100
@@ -921,3 +921,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/en-GB.yml redmine-1.0.4/config/locales/en-GB.yml
--- redmine-1.0.4-mdomain/config/locales/en-GB.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/en-GB.yml	2010-12-02 14:15:06.415818373 +0100
@@ -925,3 +925,4 @@
   notice_not_authorized_archived_project: The project you're trying to access has been archived.
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/en.yml redmine-1.0.4/config/locales/en.yml
--- redmine-1.0.4-mdomain/config/locales/en.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/en.yml	2010-12-02 14:15:06.415818373 +0100
@@ -920,3 +920,4 @@
   enumeration_activities: Activities (time tracking)
   enumeration_system_activity: System Activity
 
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/es.yml redmine-1.0.4/config/locales/es.yml
--- redmine-1.0.4-mdomain/config/locales/es.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/es.yml	2010-12-02 14:15:06.415818373 +0100
@@ -967,3 +967,4 @@
   label_user_search: "Buscar por usuario:"
   field_visible: Visible
   setting_emails_header: Encabezado de Correos
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/eu.yml redmine-1.0.4/config/locales/eu.yml
--- redmine-1.0.4-mdomain/config/locales/eu.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/eu.yml	2010-12-02 14:15:06.415818373 +0100
@@ -924,3 +924,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/fi.yml redmine-1.0.4/config/locales/fi.yml
--- redmine-1.0.4-mdomain/config/locales/fi.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/fi.yml	2010-12-02 14:15:06.415818373 +0100
@@ -945,3 +945,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/fr.yml redmine-1.0.4/config/locales/fr.yml
--- redmine-1.0.4-mdomain/config/locales/fr.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/fr.yml	2010-12-02 14:15:06.415818373 +0100
@@ -946,3 +946,4 @@
   field_assigned_to_role: Rôle de l'assigné
 
   field_start_date: Start date
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/gl.yml redmine-1.0.4/config/locales/gl.yml
--- redmine-1.0.4-mdomain/config/locales/gl.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/gl.yml	2010-12-02 14:15:06.415818373 +0100
@@ -937,3 +937,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/he.yml redmine-1.0.4/config/locales/he.yml
--- redmine-1.0.4-mdomain/config/locales/he.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/he.yml	2010-12-02 14:15:06.415818373 +0100
@@ -933,3 +933,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/hr.yml redmine-1.0.4/config/locales/hr.yml
--- redmine-1.0.4-mdomain/config/locales/hr.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/hr.yml	2010-12-02 14:15:06.415818373 +0100
@@ -927,3 +927,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/hu.yml redmine-1.0.4/config/locales/hu.yml
--- redmine-1.0.4-mdomain/config/locales/hu.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/hu.yml	2010-12-02 14:15:06.416818373 +0100
@@ -943,3 +943,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/id.yml redmine-1.0.4/config/locales/id.yml
--- redmine-1.0.4-mdomain/config/locales/id.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/id.yml	2010-12-02 14:15:06.416818373 +0100
@@ -928,3 +928,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/it.yml redmine-1.0.4/config/locales/it.yml
--- redmine-1.0.4-mdomain/config/locales/it.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/it.yml	2010-12-02 14:15:06.416818373 +0100
@@ -924,3 +924,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/ja.yml redmine-1.0.4/config/locales/ja.yml
--- redmine-1.0.4-mdomain/config/locales/ja.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/ja.yml	2010-12-02 14:15:06.416818373 +0100
@@ -955,3 +955,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/ko.yml redmine-1.0.4/config/locales/ko.yml
--- redmine-1.0.4-mdomain/config/locales/ko.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/ko.yml	2010-12-02 14:15:06.416818373 +0100
@@ -976,3 +976,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/lt.yml redmine-1.0.4/config/locales/lt.yml
--- redmine-1.0.4-mdomain/config/locales/lt.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/lt.yml	2010-12-02 14:15:06.416818373 +0100
@@ -984,3 +984,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/lv.yml redmine-1.0.4/config/locales/lv.yml
--- redmine-1.0.4-mdomain/config/locales/lv.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/lv.yml	2010-12-02 14:15:06.416818373 +0100
@@ -915,3 +915,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/mk.yml redmine-1.0.4/config/locales/mk.yml
--- redmine-1.0.4-mdomain/config/locales/mk.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/mk.yml	2010-12-02 14:15:06.416818373 +0100
@@ -920,3 +920,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/mn.yml redmine-1.0.4/config/locales/mn.yml
--- redmine-1.0.4-mdomain/config/locales/mn.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/mn.yml	2010-12-02 14:15:06.416818373 +0100
@@ -921,3 +921,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/nl.yml redmine-1.0.4/config/locales/nl.yml
--- redmine-1.0.4-mdomain/config/locales/nl.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/nl.yml	2010-12-02 14:15:06.416818373 +0100
@@ -902,3 +902,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/no.yml redmine-1.0.4/config/locales/no.yml
--- redmine-1.0.4-mdomain/config/locales/no.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/no.yml	2010-12-02 14:15:06.416818373 +0100
@@ -911,3 +911,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/pl.yml redmine-1.0.4/config/locales/pl.yml
--- redmine-1.0.4-mdomain/config/locales/pl.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/pl.yml	2010-12-02 14:15:06.416818373 +0100
@@ -941,3 +941,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/pt-BR.yml redmine-1.0.4/config/locales/pt-BR.yml
--- redmine-1.0.4-mdomain/config/locales/pt-BR.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/pt-BR.yml	2010-12-02 14:15:06.416818373 +0100
@@ -948,3 +948,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/pt.yml redmine-1.0.4/config/locales/pt.yml
--- redmine-1.0.4-mdomain/config/locales/pt.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/pt.yml	2010-12-02 14:15:06.416818373 +0100
@@ -928,3 +928,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/ro.yml redmine-1.0.4/config/locales/ro.yml
--- redmine-1.0.4-mdomain/config/locales/ro.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/ro.yml	2010-12-02 14:15:06.416818373 +0100
@@ -913,3 +913,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/ru.yml redmine-1.0.4/config/locales/ru.yml
--- redmine-1.0.4-mdomain/config/locales/ru.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/ru.yml	2010-12-02 14:15:06.416818373 +0100
@@ -1043,3 +1043,4 @@
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
   field_start_date: Start Date
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/sk.yml redmine-1.0.4/config/locales/sk.yml
--- redmine-1.0.4-mdomain/config/locales/sk.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/sk.yml	2010-12-02 14:15:06.416818373 +0100
@@ -915,3 +915,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/sl.yml redmine-1.0.4/config/locales/sl.yml
--- redmine-1.0.4-mdomain/config/locales/sl.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/sl.yml	2010-12-02 14:15:06.416818373 +0100
@@ -916,3 +916,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/sr.yml redmine-1.0.4/config/locales/sr.yml
--- redmine-1.0.4-mdomain/config/locales/sr.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/sr.yml	2010-12-02 14:15:06.416818373 +0100
@@ -921,3 +921,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/sr-YU.yml redmine-1.0.4/config/locales/sr-YU.yml
--- redmine-1.0.4-mdomain/config/locales/sr-YU.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/sr-YU.yml	2010-12-02 14:15:06.416818373 +0100
@@ -920,3 +920,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/sv.yml redmine-1.0.4/config/locales/sv.yml
--- redmine-1.0.4-mdomain/config/locales/sv.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/sv.yml	2010-12-02 14:15:06.416818373 +0100
@@ -975,3 +975,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/th.yml redmine-1.0.4/config/locales/th.yml
--- redmine-1.0.4-mdomain/config/locales/th.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/th.yml	2010-12-02 14:15:06.416818373 +0100
@@ -917,3 +917,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/tr.yml redmine-1.0.4/config/locales/tr.yml
--- redmine-1.0.4-mdomain/config/locales/tr.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/tr.yml	2010-12-02 14:15:06.416818373 +0100
@@ -943,3 +943,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/uk.yml redmine-1.0.4/config/locales/uk.yml
--- redmine-1.0.4-mdomain/config/locales/uk.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/uk.yml	2010-12-02 14:15:06.416818373 +0100
@@ -916,3 +916,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/vi.yml redmine-1.0.4/config/locales/vi.yml
--- redmine-1.0.4-mdomain/config/locales/vi.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/vi.yml	2010-12-02 14:15:06.416818373 +0100
@@ -975,3 +975,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/zh-TW.yml redmine-1.0.4/config/locales/zh-TW.yml
--- redmine-1.0.4-mdomain/config/locales/zh-TW.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/zh-TW.yml	2010-12-02 14:15:06.417818373 +0100
@@ -1013,3 +1013,4 @@
   enumeration_activities: 活動 (時間追蹤)
   enumeration_system_activity: 系統活動
 
+  field_maildomain: Email domain
diff -ur redmine-1.0.4-mdomain/config/locales/zh.yml redmine-1.0.4/config/locales/zh.yml
--- redmine-1.0.4-mdomain/config/locales/zh.yml	2010-12-02 14:14:26.000000000 +0100
+++ redmine-1.0.4/config/locales/zh.yml	2010-12-02 14:15:06.417818373 +0100
@@ -938,3 +938,4 @@
   field_start_date: Start date
   label_principal_search: "Search for user or group:"
   label_user_search: "Search for user:"
+  field_maildomain: Email domain
